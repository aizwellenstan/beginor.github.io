---
layout: post
title: 设计模式概述
description: 设计模式, 单一职责, 开－闭, 里氏代换, 合成复用, 依赖倒转, 接口隔离, 迪米特
tags: [设计模式]
keywords: 设计模式, 单一职责, 开－闭, 里氏代换, 合成复用, 依赖倒转, 接口隔离, 迪米特
---

![Design Patterns](/assets/post-images/design-patterns-overview.jpg)

## 设计模式四人帮

设计模式四人组GoF（“四人帮”，又称Gang of Four，即Erich Gamma, Richard Helm, Ralph Johnson & John Vlissides四人）的《设计模式》，原名《Design Patterns: Elements of Reusable Object-Oriented Software》（1995年出版，出版社：Addison Wesly Longman.Inc），第一次将设计模式提升到理论高度，并将之规范化。该书提出了23种基本设计模式。时至今日，在可复用面向对象软件的发展过程中，新的设计模式仍然不断出现。

## 设计模式和框架

可复用面向对象软件系统现在一般划分为两大类：应用程序工具箱和框架(Framework)，我们平时开发的具体软件都是应用程序，Java的API属于工具箱；而框架是构成一类特定软件可复用设计的一组相互协作的类，EJB（EnterpriseJavaBeans）是Java应用于企业计算的框架。

框架通常定义了应用体系的整体结构类和对象的关系等等设计参数，以便于具体应用实现者能集中精力于应用本身的特定细节。框架主要记录软件应用中共同的设计决策，框架强调设计复用，因此框架设计中必然要使用设计模式。

另外，设计模式有助于对框架结构的理解，成熟的框架通常使用了多种设计模式,如果你熟悉这些设计模式，毫无疑问，你将迅速掌握框架的结构，我们一般开发者如果突然接触EJBJ2EE等框架，会觉得特别难学，难掌握，那么转而先掌握设计模式，无疑是给了你剖析EJB或J2EE系统的一把利器。

## 设计模式的原则

### 单一职责原则

"就一个类而言，应该只专注于做一件事和仅有一个引起变化的原因。"这就是所谓的单一职责原则 。该原则提出了对对象职责的一种理想期望。对象不应该承担太多职责，正如人不应该一心分为二用。唯有专注，才能保证对象的高内聚；唯有单一，才能保证对象的细粒度。对象的高内聚与细粒度有利于对象的重用。

### "开－闭"原则

此原则是由"Bertrand Meyer"提出的。原文是："Software entities should be open for extension,but closed for modification"。就是说模块应对扩展开放，而对修改关闭。模块应尽量在不修改原(是"原"，指原来的代码)代码的情况下进行扩展。

### 里氏代换原则

里氏代换原则是由"Barbara Liskov"提出的。如果调用的是父类的话，那么换成子类也完全可以运行。里氏代换原则是继承复用的一个基础。

### 合成复用原则

要少用继承，多用合成关系来实现。

### 依赖倒转原则

抽象不应该依赖于细节，细节应当依赖于抽象。要针对接口编程，而不是针对实现编程。传递参数，或者在组合聚合关系中，尽量引用层次高的类。

### 接口隔离原则

接口隔离原则 认为："使用多个专门的接口比使用单一的总接口要好"。因为接口如果能够保持粒度够小，就能保证它足够稳定，正如单一职责原则所标榜的那样。多个专门的接口就好比采用活字制版，可以随时拼版拆版，既利于修改，又利于文字的重用。而单一的总接口就是雕版印刷，显得笨重，实现殊为不易；一旦发现错字别字，就很难修改，往往需要整块雕版重新雕刻。

### 迪米特法则

最少知识原则。不要和陌生人说话。

## 设计模式分类

### 行为型

行为型设计模式着重解决的是静态实体之间的通讯关系， 主要包括以下几种模式：

![行为型设计模式](/assets/post-images/design-patterns-behavioral.jpg)

### 创建型

创建型是设计模式中创建对象的模式，  包括抽象工厂模式、建造模式、 工厂方法模式、 原型模式以及单例模式。

![创建型设计模式](/assets/post-images/design-patterns-creational.jpg)

### 结构型

在软件工程中结构型模式是设计模式，借由一以贯之的方式来了解元件间的关系，以简化设计。

![](/assets/post-images/design-patterns-structural.jpg)